import{o as I,s as D,a as O}from"./config-58d19dce.js";var B={exports:{}};(function(g,v){(function(c,n){g.exports=n()})(window,function(){return function(h){var c={};function n(o){if(c[o])return c[o].exports;var a=c[o]={i:o,l:!1,exports:{}};return h[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=h,n.c=c,n.d=function(o,a,d){n.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:d})},n.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},n.t=function(o,a){if(a&1&&(o=n(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var d=Object.create(null);if(n.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var m in o)n.d(d,m,function(i){return o[i]}.bind(null,m));return d},n.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(a,"a",a),a},n.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},n.p="",n(n.s=0)}({"./src/index.js":function(h,c,n){n.r(c),n("./src/sass/index.scss");var o=n("./src/js/init.js"),a=o.default.init;typeof window<"u"&&(window.printJS=a),c.default=a},"./src/js/browser.js":function(h,c,n){n.r(c);var o={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!o.isIE()&&!!window.StyleMedia},isChrome:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!d.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};c.default=o},"./src/js/functions.js":function(h,c,n){n.r(c),n.d(c,"addWrapper",function(){return m}),n.d(c,"capitalizePrint",function(){return i}),n.d(c,"collectStyles",function(){return l}),n.d(c,"addHeader",function(){return t}),n.d(c,"cleanUp",function(){return u}),n.d(c,"isRawHTML",function(){return y});var o=n("./src/js/modal.js"),a=n("./src/js/browser.js");function d(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(f){return typeof f}:d=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},d(e)}function m(e,s){var f="font-family:"+s.font+" !important; font-size: "+s.font_size+" !important; width:100%;";return'<div style="'+f+'">'+e+"</div>"}function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function l(e,s){for(var f=document.defaultView||window,b="",p=f.getComputedStyle(e,""),E=0;E<p.length;E++)(s.targetStyles.indexOf("*")!==-1||s.targetStyle.indexOf(p[E])!==-1||r(s.targetStyles,p[E]))&&p.getPropertyValue(p[E])&&(b+=p[E]+":"+p.getPropertyValue(p[E])+";");return b+="max-width: "+s.maxWidth+"px !important; font-size: "+s.font_size+" !important;",b}function r(e,s){for(var f=0;f<e.length;f++)if(d(s)==="object"&&s.indexOf(e[f])!==-1)return!0;return!1}function t(e,s){var f=document.createElement("div");if(y(s.header))f.innerHTML=s.header;else{var b=document.createElement("h1"),p=document.createTextNode(s.header);b.appendChild(p),b.setAttribute("style",s.headerStyle),f.appendChild(b)}e.insertBefore(f,e.childNodes[0])}function u(e){e.showModal&&o.default.close(),e.onLoadingEnd&&e.onLoadingEnd(),(e.showModal||e.onLoadingStart)&&window.URL.revokeObjectURL(e.printable);var s="mouseover";(a.default.isChrome()||a.default.isFirefox())&&(s="focus");var f=function b(){window.removeEventListener(s,b),e.onPrintDialogClose();var p=document.getElementById(e.frameId);p&&p.remove()};window.addEventListener(s,f)}function y(e){var s=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return s.test(e)}},"./src/js/html.js":function(h,c,n){n.r(c);var o=n("./src/js/functions.js"),a=n("./src/js/print.js");function d(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(t){return typeof t}:d=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(l)}c.default={print:function(r,t){var u=i(r.printable)?r.printable:document.getElementById(r.printable);if(!u){window.console.error("Invalid HTML element id: "+r.printable);return}r.printableElement=m(u,r),r.header&&Object(o.addHeader)(r.printableElement,r),a.default.send(r,t)}};function m(l,r){for(var t=l.cloneNode(),u=Array.prototype.slice.call(l.childNodes),y=0;y<u.length;y++)if(r.ignoreElements.indexOf(u[y].id)===-1){var e=m(u[y],r);t.appendChild(e)}switch(r.scanStyles&&l.nodeType===1&&t.setAttribute("style",Object(o.collectStyles)(l,r)),l.tagName){case"SELECT":t.value=l.value;break;case"CANVAS":t.getContext("2d").drawImage(l,0,0);break}return t}function i(l){return d(l)==="object"&&l&&(l instanceof HTMLElement||l.nodeType===1)}},"./src/js/image.js":function(h,c,n){n.r(c);var o=n("./src/js/functions.js"),a=n("./src/js/print.js"),d=n("./src/js/browser.js");c.default={print:function(i,l){i.printable.constructor!==Array&&(i.printable=[i.printable]),i.printableElement=document.createElement("div"),i.printable.forEach(function(r){var t=document.createElement("img");if(t.setAttribute("style",i.imageStyle),t.src=r,d.default.isFirefox()){var u=t.src;t.src=u}var y=document.createElement("div");y.appendChild(t),i.printableElement.appendChild(y)}),i.header&&Object(o.addHeader)(i.printableElement,i),a.default.send(i,l)}}},"./src/js/init.js":function(h,c,n){n.r(c);var o=n("./src/js/browser.js"),a=n("./src/js/modal.js"),d=n("./src/js/pdf.js"),m=n("./src/js/html.js"),i=n("./src/js/raw-html.js"),l=n("./src/js/image.js"),r=n("./src/js/json.js");function t(y){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(s){return typeof s}:t=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},t(y)}var u=["pdf","html","image","json","raw-html"];c.default={init:function(){var e={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(A){throw A},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},s=arguments[0];if(s===void 0)throw new Error("printJS expects at least 1 attribute.");switch(t(s)){case"string":e.printable=encodeURI(s),e.fallbackPrintable=e.printable,e.type=arguments[1]||e.type;break;case"object":e.printable=s.printable,e.fallbackPrintable=typeof s.fallbackPrintable<"u"?s.fallbackPrintable:e.printable,e.fallbackPrintable=e.base64?"data:application/pdf;base64,".concat(e.fallbackPrintable):e.fallbackPrintable;for(var f in e)f==="printable"||f==="fallbackPrintable"||(e[f]=typeof s[f]<"u"?s[f]:e[f]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+t(s))}if(!e.printable)throw new Error("Missing printable information.");if(!e.type||typeof e.type!="string"||u.indexOf(e.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");e.showModal&&a.default.show(e),e.onLoadingStart&&e.onLoadingStart();var b=document.getElementById(e.frameId);b&&b.parentNode.removeChild(b);var p=document.createElement("iframe");switch(o.default.isFirefox()?p.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):p.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),p.setAttribute("id",e.frameId),e.type!=="pdf"&&(p.srcdoc="<html><head><title>"+e.documentTitle+"</title>",e.css&&(Array.isArray(e.css)||(e.css=[e.css]),e.css.forEach(function(S){p.srcdoc+='<link rel="stylesheet" href="'+S+'">'})),p.srcdoc+="</head><body></body></html>"),e.type){case"pdf":if(o.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var E=window.open(e.fallbackPrintable,"_blank");E.focus(),e.onIncompatibleBrowser()}catch(S){e.onError(S)}finally{e.showModal&&a.default.close(),e.onLoadingEnd&&e.onLoadingEnd()}else d.default.print(e,p);break;case"image":l.default.print(e,p);break;case"html":m.default.print(e,p);break;case"raw-html":i.default.print(e,p);break;case"json":r.default.print(e,p);break}}}},"./src/js/json.js":function(h,c,n){n.r(c);var o=n("./src/js/functions.js"),a=n("./src/js/print.js");function d(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(r){return typeof r}:d=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},d(i)}c.default={print:function(l,r){if(d(l.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof l.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!l.properties||!Array.isArray(l.properties))throw new Error("Invalid properties array for your JSON data.");l.properties=l.properties.map(function(t){return{field:d(t)==="object"?t.field:t,displayName:d(t)==="object"?t.displayName:t,columnSize:d(t)==="object"&&t.columnSize?t.columnSize+";":100/l.properties.length+"%;"}}),l.printableElement=document.createElement("div"),l.header&&Object(o.addHeader)(l.printableElement,l),l.printableElement.innerHTML+=m(l),a.default.send(l,r)}};function m(i){var l=i.printable,r=i.properties,t='<table style="border-collapse: collapse; width: 100%;">';i.repeatTableHeader&&(t+="<thead>"),t+="<tr>";for(var u=0;u<r.length;u++)t+='<th style="width:'+r[u].columnSize+";"+i.gridHeaderStyle+'">'+Object(o.capitalizePrint)(r[u].displayName)+"</th>";t+="</tr>",i.repeatTableHeader&&(t+="</thead>"),t+="<tbody>";for(var y=0;y<l.length;y++){t+="<tr>";for(var e=0;e<r.length;e++){var s=l[y],f=r[e].field.split(".");if(f.length>1)for(var b=0;b<f.length;b++)s=s[f[b]];else s=s[r[e].field];t+='<td style="width:'+r[e].columnSize+i.gridStyle+'">'+s+"</td>"}t+="</tr>"}return t+="</tbody></table>",t}},"./src/js/modal.js":function(h,c,n){n.r(c);var o={show:function(d){var m="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",i=document.createElement("div");i.setAttribute("style",m),i.setAttribute("id","printJS-Modal");var l=document.createElement("div");l.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var r=document.createElement("div");r.setAttribute("class","printClose"),r.setAttribute("id","printClose"),l.appendChild(r);var t=document.createElement("span");t.setAttribute("class","printSpinner"),l.appendChild(t);var u=document.createTextNode(d.modalMessage);l.appendChild(u),i.appendChild(l),document.getElementsByTagName("body")[0].appendChild(i),document.getElementById("printClose").addEventListener("click",function(){o.close()})},close:function(){var d=document.getElementById("printJS-Modal");d&&d.parentNode.removeChild(d)}};c.default=o},"./src/js/pdf.js":function(h,c,n){n.r(c);var o=n("./src/js/print.js"),a=n("./src/js/functions.js");c.default={print:function(i,l){if(i.base64){var r=Uint8Array.from(atob(i.printable),function(u){return u.charCodeAt(0)});d(i,l,r);return}i.printable=/^(blob|http|\/\/)/i.test(i.printable)?i.printable:window.location.origin+(i.printable.charAt(0)!=="/"?"/"+i.printable:i.printable);var t=new window.XMLHttpRequest;t.responseType="arraybuffer",t.addEventListener("error",function(){Object(a.cleanUp)(i),i.onError(t.statusText,t)}),t.addEventListener("load",function(){if([200,201].indexOf(t.status)===-1){Object(a.cleanUp)(i),i.onError(t.statusText,t);return}d(i,l,t.response)}),t.open("GET",i.printable,!0),t.send()}};function d(m,i,l){var r=new window.Blob([l],{type:"application/pdf"});r=window.URL.createObjectURL(r),i.setAttribute("src",r),o.default.send(m,i)}},"./src/js/print.js":function(h,c,n){n.r(c);var o=n("./src/js/browser.js"),a=n("./src/js/functions.js"),d={send:function(t,u){document.getElementsByTagName("body")[0].appendChild(u);var y=document.getElementById(t.frameId);y.onload=function(){if(t.type==="pdf"){o.default.isFirefox()?setTimeout(function(){return m(y,t)},1e3):m(y,t);return}var e=y.contentWindow||y.contentDocument;if(e.document&&(e=e.document),e.body.appendChild(t.printableElement),t.type!=="pdf"&&t.style){var s=document.createElement("style");s.innerHTML=t.style,e.head.appendChild(s)}var f=e.getElementsByTagName("img");f.length>0?i(Array.from(f)).then(function(){return m(y,t)}):m(y,t)}}};function m(r,t){try{if(r.focus(),o.default.isEdge()||o.default.isIE())try{r.contentWindow.document.execCommand("print",!1,null)}catch{r.contentWindow.print()}else r.contentWindow.print()}catch(u){t.onError(u)}finally{o.default.isFirefox()&&(r.style.visibility="hidden",r.style.left="-1px"),Object(a.cleanUp)(t)}}function i(r){var t=r.map(function(u){if(u.src&&u.src!==window.location.href)return l(u)});return Promise.all(t)}function l(r){return new Promise(function(t){var u=function y(){!r||typeof r.naturalWidth>"u"||r.naturalWidth===0||!r.complete?setTimeout(y,500):t()};u()})}c.default=d},"./src/js/raw-html.js":function(h,c,n){n.r(c);var o=n("./src/js/print.js");c.default={print:function(d,m){d.printableElement=document.createElement("div"),d.printableElement.setAttribute("style","width:100%"),d.printableElement.innerHTML=d.printable,o.default.send(d,m)}}},"./src/sass/index.scss":function(h,c,n){},0:function(h,c,n){h.exports=n("./src/index.js")}}).default})})(B);feather.replace();const j=new URLSearchParams(window.location.search),P=j.get("hall");P||(location.href="/");document.querySelector(".hall-name").innerHTML=P;document.querySelector(".hall-image").setAttribute("src","https://"+j.get("hallImg"));const C=j.get("date").split("-").reverse().join("-");document.querySelector("#date").value=C;document.querySelector(".seats-needed").innerText=`Seats required (Max: ${j.get("seats")}):*`;document.querySelector("#seats").setAttribute("max",j.get("seats"));const x=document.querySelector(".user-menu");document.querySelector(".user-nav").addEventListener("click",g=>{g.stopPropagation(),g.preventDefault(),x.classList.toggle("user-menu-hidden")});I(O,g=>{g?(x.children[0].innerHTML=`
            <h3 class="ff-inter">Welcome, ${g.displayName||g.email}</h3>
            <a class="ff-inter fs-2s user-menu-link log-out" href="#">Log out</a>
            <a class="ff-inter fs-2s user-menu-link" href="/reset/">Reset password</a>
        `,document.querySelector("#email").value=g.email,document.querySelector(".log-out").onclick=v=>{v.preventDefault(),D(O).then(()=>{location.href="/"}).catch(h=>{console.log("Error occured during sign out"+h)})}):location.href="/"});const w=document.querySelector(".msg-box");var M="";const T=document.querySelector(".submit"),L=(g,v)=>{w.innerHTML=`<div style="display:flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">${v?'<i data-feather="check-circle"></i><p class="ff-inter fs-s fw-500">Booking was successful! Check your mail for confirmation:</p>':'<i data-feather="x-circle"></i><p class="ff-inter fs-s fw-500">Something went wrong! Please try after some time or contact admin</p>'} </div>`,w.innerHTML+=`${g}`,feather.replace(),w.classList.remove("msg-box-hidden"),U()},U=()=>{setTimeout(()=>{w.classList.add("msg-box-hidden")},5e3)},R=document.querySelector(".booking-form");R.addEventListener("submit",async g=>{g.preventDefault(),T.innerHTML='<span class="loader" style="border-top: 3px solid #fff;height: 24px; width: 24px;"></span>',T.classList.add("disabled");const v={hall:P,id:document.querySelector("#email").value,start:document.getElementById("start-time").value,end:document.getElementById("end-time").value,date:C.split("-").reverse().join("-"),name:document.querySelector("#name").value,purpose:document.querySelector("#purpose").value+`
`+document.querySelector("#refreshments").value,seats:document.querySelector("#seats").value,guest:document.querySelector("#guest").value};console.log(v);try{await fetch("https://frail-puce-wear.cyclic.app/api/book",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)}),M='<p class="ff-inter fs-2s">Booking was confirmed! Check your email for details</p>',L(M,!0),setTimeout(()=>{location.href="/"},3e3)}catch{M='<p class="ff-inter fs-2s">Error in booking. Try again later!</p>',L(M,!1),setTimeout(()=>{location.href="/"},3e3)}});
